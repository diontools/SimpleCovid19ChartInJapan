(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[492],{8908:function(e,t,i){"use strict";i.r(t),i.d(t,{PrefPage:function(){return w},__N_SSG:function(){return j},default:function(){return T}});var a=i(5893),n=i(9008),r=i(7294),l=i(3802);var o=[{name:"\u5317\u6d77\u9053\u5730\u65b9",prefectures:[{id:"01",name:"Hokkaido",title:"\u5317\u6d77\u9053"}]},{name:"\u6771\u5317\u5730\u65b9",prefectures:[{id:"02",name:"Aomori",title:"\u9752\u68ee\u770c"},{id:"03",name:"Iwate",title:"\u5ca9\u624b\u770c"},{id:"04",name:"Miyagi",title:"\u5bae\u57ce\u770c"},{id:"05",name:"Akita",title:"\u79cb\u7530\u770c"},{id:"06",name:"Yamagata",title:"\u5c71\u5f62\u770c"},{id:"07",name:"Fukushima",title:"\u798f\u5cf6\u770c"}]},{name:"\u95a2\u6771\u5730\u65b9",prefectures:[{id:"08",name:"Ibaraki",title:"\u8328\u57ce\u770c"},{id:"09",name:"Tochigi",title:"\u6803\u6728\u770c"},{id:"10",name:"Gunma",title:"\u7fa4\u99ac\u770c"},{id:"11",name:"Saitama",title:"\u57fc\u7389\u770c"},{id:"12",name:"Chiba",title:"\u5343\u8449\u770c"},{id:"13",name:"Tokyo",title:"\u6771\u4eac\u90fd"},{id:"14",name:"Kanagawa",title:"\u795e\u5948\u5ddd\u770c"}]},{name:"\u4e2d\u90e8\u5730\u65b9",prefectures:[{id:"15",name:"Niigata",title:"\u65b0\u6f5f\u770c"},{id:"16",name:"Toyama",title:"\u5bcc\u5c71\u770c"},{id:"17",name:"Ishikawa",title:"\u77f3\u5ddd\u770c"},{id:"18",name:"Fukui",title:"\u798f\u4e95\u770c"},{id:"19",name:"Yamanashi",title:"\u5c71\u68a8\u770c"},{id:"20",name:"Nagano",title:"\u9577\u91ce\u770c"},{id:"21",name:"Gifu",title:"\u5c90\u961c\u770c"},{id:"22",name:"Shizuoka",title:"\u9759\u5ca1\u770c"},{id:"23",name:"Aichi",title:"\u611b\u77e5\u770c"}]},{name:"\u95a2\u897f\u5730\u65b9",prefectures:[{id:"24",name:"Mie",title:"\u4e09\u91cd\u770c"},{id:"25",name:"Shiga",title:"\u6ecb\u8cc0\u770c"},{id:"26",name:"Kyoto",title:"\u4eac\u90fd\u5e9c"},{id:"27",name:"Osaka",title:"\u5927\u962a\u5e9c"},{id:"28",name:"Hyogo",title:"\u5175\u5eab\u770c"},{id:"29",name:"Nara",title:"\u5948\u826f\u770c"},{id:"30",name:"Wakayama",title:"\u548c\u6b4c\u5c71\u770c"}]},{name:"\u4e2d\u56fd\u5730\u65b9",prefectures:[{id:"31",name:"Tottori",title:"\u9ce5\u53d6\u770c"},{id:"32",name:"Shimane",title:"\u5cf6\u6839\u770c"},{id:"33",name:"Okayama",title:"\u5ca1\u5c71\u770c"},{id:"34",name:"Hiroshima",title:"\u5e83\u5cf6\u770c"},{id:"35",name:"Yamaguchi",title:"\u5c71\u53e3\u770c"}]},{name:"\u56db\u56fd\u5730\u65b9",prefectures:[{id:"36",name:"Tokushima",title:"\u5fb3\u5cf6\u770c"},{id:"37",name:"Kagawa",title:"\u9999\u5ddd\u770c"},{id:"38",name:"Ehime",title:"\u611b\u5a9b\u770c"},{id:"39",name:"Kochi",title:"\u9ad8\u77e5\u770c"}]},{name:"\u4e5d\u5dde\u30fb\u6c96\u7e04\u5730\u65b9",prefectures:[{id:"40",name:"Fukuoka",title:"\u798f\u5ca1\u770c"},{id:"41",name:"Saga",title:"\u4f50\u8cc0\u770c"},{id:"42",name:"Nagasaki",title:"\u9577\u5d0e\u770c"},{id:"43",name:"Kumamoto",title:"\u718a\u672c\u770c"},{id:"44",name:"Oita",title:"\u5927\u5206\u770c"},{id:"45",name:"Miyazaki",title:"\u5bae\u5d0e\u770c"},{id:"46",name:"Kagoshima",title:"\u9e7f\u5150\u5cf6\u770c"},{id:"47",name:"Okinawa",title:"\u6c96\u7e04\u770c"}]}],d=i(1664),s=(0,i(1163).withRouter)((function(e){var t=e.router.asPath===e.href||e.router.asPath===e.as,i=e.activeClassName||"font-bold",n=function(e){switch(e){case void 0:case"Normal":return"no-underline hover:underline text-blue-500";case"Text":return"no-underline hover:underline text-blue-100";default:}}(e.linkType)+" "+(e.className||"");return(0,a.jsx)(d.default,{href:e.href,as:e.as,prefetch:!0,children:(0,a.jsx)("a",{className:"".concat(n," ").concat(t&&i),children:e.children})})}));var c=i(9490),u=function(e){var t,i=(0,r.useState)(!1),n=i[0],d=i[1];return(0,a.jsxs)("header",{className:"bg-gray-700 text-white py-1 px-4",children:[(0,a.jsxs)("span",{className:"pr-4 cursor-pointer select-none",onClick:function(){return d(!n)},children:[(0,a.jsx)(l.v4q,{className:"h-5 w-5 inline-block transform ".concat(n?"rotate-180":"")}),"Simple COVID-19 Chart In Japan"]}),(0,a.jsx)("span",{className:"pr-4",children:(null===(t=e.prefecture)||void 0===t?void 0:t.title)||"\u5168\u56fd"}),(0,a.jsxs)("span",{children:["\u66f4\u65b0\u6642\u523b: ",c.ou.fromMillis(e.updatedAt,{zone:"UTC+0",locale:"ja"}).toLocal().toFormat("yyyy / MM / dd (ccc) HH:mm")]}),n&&(0,a.jsxs)("div",{className:"lg:flex",children:[(0,a.jsxs)("div",{className:"flex-none",children:[(0,a.jsx)("div",{children:(0,a.jsx)(s,{href:"/",linkType:"Text",children:"\u5168\u56fd"})}),o.map((function(e){return(0,a.jsxs)("div",{children:[e.name,"\uff1a",e.prefectures.map((function(e){return(0,a.jsx)(s,{href:"/"+e.name,linkType:"Text",className:"m-1",children:e.title},e.id)}))]},e.name)}))]}),(0,a.jsxs)("div",{className:"flex-1 mt-4 lg:mt-0",children:[(0,a.jsxs)("div",{children:["\u611f\u67d3\u72b6\u6cc1\u30c7\u30fc\u30bf\u30bd\u30fc\u30b9: ",(0,a.jsx)(s,{href:"https://covid19.mhlw.go.jp/extensions/public/index.html",linkType:"Text",children:"\u30c7\u30fc\u30bf\u304b\u3089\u308f\u304b\u308b\uff0d\u65b0\u578b\u30b3\u30ed\u30ca\u30a6\u30a4\u30eb\u30b9\u611f\u67d3\u75c7\u60c5\u5831\uff0d | \u539a\u751f\u52b4\u50cd\u7701"})]}),(0,a.jsxs)("div",{children:["\u30ef\u30af\u30c1\u30f3\u30c7\u30fc\u30bf\u30bd\u30fc\u30b9: ",(0,a.jsx)(s,{href:"https://cio.go.jp/c19vaccine_dashboard",linkType:"Text",children:"\u65b0\u578b\u30b3\u30ed\u30ca\u30ef\u30af\u30c1\u30f3\u306e\u63a5\u7a2e\u72b6\u6cc1\uff08\u4e00\u822c\u63a5\u7a2e\uff08\u9ad8\u9f62\u8005\u542b\u3080\uff09\uff09 | \u653f\u5e9cCIO\u30dd\u30fc\u30bf\u30eb"})]})]})]})]})},m=function(e){var t;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(n.default,{children:[(0,a.jsxs)("title",{children:[(null===(t=e.prefecture)||void 0===t?void 0:t.title)||"\u5168\u56fd"," | Simple COVID-19 Chart In Japan"]}),(0,a.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,a.jsx)(u,{updatedAt:e.updatedAt,prefecture:e.prefecture}),e.children]})},f=i(3328);i(2741);function h(e,t){var i;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(i=function(e,t){if(!e)return;if("string"===typeof e)return p(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);"Object"===i&&e.constructor&&(i=e.constructor.name);if("Map"===i||"Set"===i)return Array.from(e);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return p(e,t)}(e))||t&&e&&"number"===typeof e.length){i&&(e=i);var a=0,n=function(){};return{s:n,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,l=!0,o=!1;return{s:function(){i=e[Symbol.iterator]()},n:function(){var e=i.next();return l=e.done,e},e:function(e){o=!0,r=e},f:function(){try{l||null==i.return||i.return()}finally{if(o)throw r}}}}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,a=new Array(t);i<t;i++)a[i]=e[i];return a}i(840);var y=i(7587).ZP;f.kL.register(y),console.log("registed",y),f.kL.register(f.ST,f.jn,f.od,f.f$,f.FB,f.De,f.u);var v=function(e){var t=(0,r.useRef)(null),i=(0,r.useState)(void 0),n=i[0],l=i[1];return(0,r.useEffect)((function(){if(n)console.log("update chart"),n.data=b(n,e.data),n.update();else{console.log("initialize chart");var i=g(t.current,e.data,e.options);if(!i)return;l(i)}}),[t.current,e.data]),(0,a.jsx)("canvas",{ref:t},"canvas-key")},x=864e5,g=function(e,t,i){if(e){var a=e.getContext("2d");if(a)return new f.kL(a,{type:"line",data:t,options:i,plugins:[{id:"draw-weekends",beforeDraw:function(e){var t=e.ctx,i=e.chartArea,a=(i.left,i.top),n=(i.right,i.bottom,e.scales),r=n.x,l=n.y,o=r.getMinMax(!1),d=o.min,s=o.max;if(!(r.getPixelForValue(d+x)-r.getPixelForValue(d)<10)){var u=c.ou.fromMillis(d,{zone:"UTC+0"}),m=l.getPixelForValue(l.min),f=u.startOf("day"),h=f.valueOf()+(7-f.weekday)*x,p=m-a;for(t.save(),t.fillStyle="#fff4f9";h<s;){var y=r.getPixelForValue(Math.max(h,d)),v=r.getPixelForValue(Math.min(h+x,s));t.fillRect(y,a,v-y,p),h+=6048e5}t.restore()}}},{id:"vh-line",afterDraw:function(e,t,i){var a=e.ctx,n=e.chartArea,r=n.left,l=n.top,o=n.right,d=n.bottom,s=e.scales,u=(s.x,s.y,e.options.vhLine);if(u){a.save();var m=e.data.datasets[u.datasetIndex],f=m.data[u.index];if(f&&"object"===typeof f){var h=c.ou.fromMillis(f.x,{zone:"UTC+0",locale:"ja"}).toFormat("yyyy / MM / dd (ccc)");a.textBaseline="top",a.textAlign="end",a.fillText(h,u.element.x,l),a.textAlign="left",a.fillText("".concat(m.label," ").concat(f.y.toLocaleString()),r,u.element.y)}a.strokeStyle="black",a.lineWidth=.5,a.beginPath(),a.setLineDash([5,5]),a.moveTo(r,u.element.y),a.lineTo(o,u.element.y),a.moveTo(u.element.x,l),a.lineTo(u.element.x,d),a.stroke(),a.restore()}},beforeEvent:function(e,t,i){if("click"===t.event.type&&t.event.native&&t.event.x&&t.event.y){var a=e.chartArea,n=a.left,r=a.top,l=a.right,o=a.bottom,d=t.event,s=d.x,c=d.y;if(n<=s&&s<=l&&r<=c&&c<=o){var u=e.getElementsAtEventForMode(t.event.native,"point",{axis:"xy"},!0)[0];e.options.vhLine=u,t.replay=!0}}}}]})}},b=function(e,t){var i,a=h(t.datasets);try{var n=function(){var t=i.value;if(t.label){var a=null===e||void 0===e?void 0:e.data.datasets.findIndex((function(e){return e.label===t.label}));if(void 0!==a){var n=!(null!==e&&void 0!==e&&e.isDatasetVisible(a));console.log(t.label,n),t.hidden=n}else console.log(t.label,"not found",t,null===e||void 0===e?void 0:e.data.datasets)}};for(a.s();!(i=a.n()).done;)n()}catch(r){a.e(r)}finally{a.f()}return t},k={interaction:{intersect:!1,axis:"x",mode:"nearest"},animation:!1,scales:{x:{type:"time",time:{tooltipFormat:"yyyy / MM / dd (ccc)",displayFormats:{day:"yyyy / MM / dd",month:"yyyy / MM"},minUnit:"day",parser:function(e){return e}},adapters:{date:{zone:"UTC+0",locale:"ja"}}},y:{type:"linear",position:"right",min:0,title:{display:!0,text:"\u65b0\u898f\u967d\u6027\u8005\u6570",color:"green"}},y1:{type:"linear",position:"right",min:0,title:{display:!0,text:"\u91cd\u75c7\u8005\u6570",color:"purple"},grid:{drawOnChartArea:!1}},y2:{type:"linear",position:"right",min:0,title:{display:!0,text:"\u6b7b\u8005\u6570",color:"red"},grid:{drawOnChartArea:!1}},y3:{type:"linear",position:"right",min:0,title:{display:!0,text:"\u5165\u9662\u6cbb\u7642\u7b49\u3092\u8981\u3059\u308b\u8005\u7b49",color:"rgb(180,180,0)"},grid:{drawOnChartArea:!1}},y4:{type:"linear",position:"right",min:0,title:{display:!0,text:"\u9000\u9662\u53ca\u3073\u7642\u990a\u89e3\u9664\u8005\u6570",color:"blue"},grid:{drawOnChartArea:!1}},y5:{type:"linear",position:"right",min:0,title:{display:!0,text:"\u30ef\u30af\u30c1\u30f3\u63a5\u7a2e\u56de\u6570",color:"darkgray"},grid:{drawOnChartArea:!1}}},plugins:{tooltip:{position:"nearest",caretSize:0,caretPadding:32},zoom:{pan:{enabled:!0,mode:"x",threshold:5},zoom:{wheel:{enabled:!0},pinch:{enabled:!0},mode:"x"},limits:{x:{max:"original",min:"original"}}}}},j=!0,w=function(e){return(0,a.jsx)(m,{updatedAt:e.update.updatedAt,prefecture:e.prefecture||void 0,children:e.charts.map((function(e,t){return(0,a.jsx)(v,{data:e.data,options:k},t)}))})},T=w},7636:function(e,t,i){(window.__NEXT_P=window.__NEXT_P||[]).push(["/[[...id]]",function(){return i(8908)}])}},function(e){e.O(0,[809,570,834,774,888,179],(function(){return t=7636,e(e.s=t);var t}));var t=e.O();_N_E=t}]);